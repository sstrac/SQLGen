<div class="flex_row align_top space_around spacing">
    <div class="flex_column">
        <h2>Statement Configuration</h2>
        <div class="flex_row space_between align_center" style="margin-bottom: 2em;">
            <div class="flex_row align_center">
                <!--Statement Type Selection-->
                <p>Statement Type</p>
                <option-form-field [options]="statementTypes"
                    (selection)="onStatementSelect($event)"></option-form-field>
            </div>
            <div class="flex_row align_center">
                <!--Table Selection-->
                <p>Table</p>
                <option-form-field [options]="getTableNames()" (selection)="onTableSelect($event)">
                </option-form-field>
            </div>
        </div>
        <div *ngIf="selectIsReady()" style="margin-bottom: 2em;">
            <p style="font-size: 10px; color: grey">Form your statement here and add to the Full Statement</p>
            <div class="flex_row align_center">
                <!--Mini Statement-->
                <textarea class="rounded_box miniStatement" matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize"
                    spellcheck="false" [value]="state.statement" [(ngModel)]="state.statement">
                </textarea>
                <button mat-icon-button (click)="addMiniToFull()">
                    <mat-icon class="circle_button button_secondary icon_large">add_circle_outline</mat-icon>
                </button>
            </div>
            <!--Field/Condition Chips-->
            <mat-chip-list class="flex_row align_center chip_list_spacing">
                <mat-chip *ngFor="let field of getTableByName(state.table.tableName).tableFields"
                    (click)="toggleField(field)" [ngStyle]="{'background-color': toggleFieldChipStyle(field)}">{{field}}
                </mat-chip>
            </mat-chip-list>
            <mat-chip-list class="flex_row align_center chip_list_spacing">
                <mat-chip class="space_center" *ngFor="let condition of conditions"
                (click)="toggleCondition(condition)" [ngStyle]="{'background-color': toggleConditionChipStyle(condition)}">
                    <span class="spacing_left">{{condition}}</span>
                    <button mat-icon-button (click)="dropCondition(condition)">
                        <mat-icon class="circle_button icon_medium">clear</mat-icon>
                    </button>
                </mat-chip>
            </mat-chip-list>
        </div>
        <h2 *ngIf="selectIsReady()">Conditions</h2>
        <div class="flex_column" *ngIf="selectIsReady()">
            <!--Add Conditions-->
            <mat-divider></mat-divider>
            <form #conditionForm [formGroup]="formGroup" (ngSubmit)="addCondition()" class="flex_row align_center space_between">
                <p>Add Condition</p>
                <mat-form-field>
                    <mat-label>Field</mat-label>
                    <mat-select formControlName="field">
                        <mat-option *ngFor="let field of getTableByName(state.table.tableName).tableFields" [value]="field">
                            {{field}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field>
                    <mat-select formControlName="operand">
                        <mat-option *ngFor="let operand of ['=', 'IN']" [value]="operand">
                            {{operand}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field class="input_spacing">
                    <mat-label>Value</mat-label>
                    <input formControlName="value" matInput spellcheck="false">
                </mat-form-field>
                <mat-checkbox (change)="checkboxChange($event)">string?</mat-checkbox>
                <button mat-icon-button type=submit>
                    <mat-icon class="circle_button button_secondary icon_large">add_circle_outline</mat-icon>
                </button>
            </form>
        </div>
    </div>
    <div class="flex_column width_50">
        <!--Full Statement-->
        <div class="flex_row align_center pad_top space_between">
            <h3><i>Full Statement</i></h3>
            <div id="buttons">
                <button mat-icon-button [cdkCopyToClipboard]="state.fullStatement" (click)="notifyCopied()">
                    <mat-icon class="circle_button button_secondary icon_medium">file_copy</mat-icon>
                </button>
                <button mat-icon-button>
                    <mat-icon class="circle_button button_secondary icon_medium">email</mat-icon>
                </button>
                <button mat-icon-button>
                    <mat-icon (click)="clearFull()" class="circle_button button_secondary icon_medium">clear</mat-icon>
                </button>
            </div>
        </div>
        <mat-divider></mat-divider>
        <textarea class="fullStatement" matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" spellcheck="false"
            [value]="state.fullStatement" [(ngModel)]="state.fullStatement">
    </textarea>
    </div>
</div>